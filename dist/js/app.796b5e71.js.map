{"version":3,"file":"js/app.796b5e71.js","mappings":"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","sources":["webpack://nilm_fromtend/./src/App.vue","webpack://nilm_fromtend/./src/App.vue?38a5","webpack://nilm_fromtend/./src/App.vue?892f","webpack://nilm_fromtend/./src/App.vue?0e40","webpack://nilm_fromtend/./src/views/History.vue","webpack://nilm_fromtend/./src/components/Navbar.vue","webpack://nilm_fromtend/./src/components/Navbar.vue?5c77","webpack://nilm_fromtend/./src/components/Navbar.vue?1703","webpack://nilm_fromtend/./src/components/Navbar.vue?e7f9","webpack://nilm_fromtend/./src/components/LineChart.vue","webpack://nilm_fromtend/./src/components/LineChart.vue?09a7","webpack://nilm_fromtend/./src/components/LineChart.vue?2a4c","webpack://nilm_fromtend/./src/components/LineChart.vue?00d5","webpack://nilm_fromtend/./src/components/BarChart.vue","webpack://nilm_fromtend/./src/components/BarChart.vue?e239","webpack://nilm_fromtend/./src/components/BarChart.vue?3b04","webpack://nilm_fromtend/./src/components/BarChart.vue?7e83","webpack://nilm_fromtend/./src/api/api.ts","webpack://nilm_fromtend/./src/views/History.vue?1920","webpack://nilm_fromtend/./src/views/History.vue?2bb1","webpack://nilm_fromtend/./src/views/History.vue?931c","webpack://nilm_fromtend/./src/views/Dashboard.vue","webpack://nilm_fromtend/./src/components/Card.vue","webpack://nilm_fromtend/./src/components/Card.vue?5f0c","webpack://nilm_fromtend/./src/components/Card.vue?60dc","webpack://nilm_fromtend/./src/components/Card.vue?0220","webpack://nilm_fromtend/./src/util/convert.ts","webpack://nilm_fromtend/./src/views/Dashboard.vue?9166","webpack://nilm_fromtend/./src/views/Dashboard.vue?8300","webpack://nilm_fromtend/./src/views/Dashboard.vue?63ac","webpack://nilm_fromtend/./src/views/Analyze.vue","webpack://nilm_fromtend/./src/views/Analyze.vue?d193","webpack://nilm_fromtend/./src/views/Analyze.vue?217b","webpack://nilm_fromtend/./src/views/Analyze.vue?b567","webpack://nilm_fromtend/./src/router/index.ts","webpack://nilm_fromtend/./src/main.ts","webpack://nilm_fromtend/webpack/bootstrap","webpack://nilm_fromtend/webpack/runtime/chunk loaded","webpack://nilm_fromtend/webpack/runtime/compat get default export","webpack://nilm_fromtend/webpack/runtime/define property getters","webpack://nilm_fromtend/webpack/runtime/global","webpack://nilm_fromtend/webpack/runtime/hasOwnProperty shorthand","webpack://nilm_fromtend/webpack/runtime/make namespace object","webpack://nilm_fromtend/webpack/runtime/node module decorator","webpack://nilm_fromtend/webpack/runtime/jsonp chunk loading","webpack://nilm_fromtend/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('main',{staticClass:\"d-flex\"},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport default {\n  name: 'App',\n  components: {\n    // 可以在這裡註冊元件\n  },\n};\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=30258532&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Navbar'),_c('main',{staticClass:\"p-5\"},[_vm._m(0),_c('div',{staticClass:\"is-flex is-flex-wrap-wrap is-align-items-end\"},[_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"日期*\",\"type\":{ 'is-danger': _vm.validation.date },\"message\":[\n            { '請輸入日期': _vm.validation.date }\n        ]}},[_c('b-datepicker',{attrs:{\"placeholder\":\"Click to select...\",\"range\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"設備*\",\"type\":{ 'is-danger': _vm.validation.device },\"message\":[\n            { '請選擇設備': _vm.validation.device }\n        ]}},[_c('b-select',{attrs:{\"placeholder\":\"Select a name\",\"expanded\":\"\"},model:{value:(_vm.device),callback:function ($$v) {_vm.device=$$v},expression:\"device\"}},_vm._l((_vm.deviceOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.value}},[_vm._v(\" \"+_vm._s(option.value)+\" \")])}),0)],1),_c('div',{staticClass:\"mb-4 column is-flex is-justify-content-center is-full-tablet is-1-desktop\"},[_c('b-button',{attrs:{\"type\":\"is-info\",\"loading\":_vm.loading},on:{\"click\":_vm.queryHistory}},[_vm._v(\" 查詢 \")])],1)],1),_c('BarChart',{staticClass:\"column is-6\",attrs:{\"chartData\":_vm.chartData}}),_c('b-table',{attrs:{\"data\":_vm.historyDataList,\"columns\":_vm.columns}}),_c('b-pagination',{attrs:{\"total\":_vm.totalItems,\"range-before\":3,\"range-after\":1,\"size\":\"is-small\",\"aria-next-label\":\"Next page\",\"aria-previous-label\":\"Previous page\",\"aria-page-label\":\"Page\",\"aria-current-label\":\"Current page\"},on:{\"change\":_vm.changePage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('h1',{staticClass:\"h1\"},[_vm._v(\" 歷史查詢 \"),_c('div',{staticClass:\"border\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-navbar',{attrs:{\"type\":\"is-black\"},scopedSlots:_vm._u([{key:\"brand\",fn:function(){return [_c('b-navbar-item',{attrs:{\"tag\":\"router-link\",\"to\":{ path: '/' }}},[_c('div',{staticClass:\"nilm-title ml-2\"},[_vm._v(\" NILM \")])])]},proxy:true},{key:\"start\",fn:function(){return [_c('b-navbar-item',{staticClass:\"nav-item\",attrs:{\"href\":\"/\"}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"pack\":\"fas\",\"icon\":\"tachometer-alt\",\"size\":\"is-small\"}}),_vm._v(\" 即時監控 \")],1),_c('b-navbar-item',{staticClass:\"nav-item\",attrs:{\"href\":\"/analyze\"}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"pack\":\"fas\",\"icon\":\"fa-solid fa-chart-line\",\"size\":\"is-small\"}}),_vm._v(\" 電力分析 \")],1),_c('b-navbar-item',{staticClass:\"nav-item\",attrs:{\"href\":\"/history\"}},[_c('b-icon',{staticClass:\"mr-1\",attrs:{\"pack\":\"fas\",\"icon\":\"fa-regular fa-calendar\",\"size\":\"is-small\"}}),_vm._v(\" 歷史查詢 \")],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\n@Component({})\n  export default class Navbar extends Vue  {\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=6f195d26&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=6f195d26&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"column is-full\"},[_c('LineCh',{attrs:{\"chartData\":_vm.chartData}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Line as LineCh } from 'vue-chartjs'; // 如果用 Line 作為引入名稱，Vue 會報錯\nimport { Component, Vue, Prop } from 'vue-property-decorator';\n// import { Chart as ChartJS, Title, Tooltip, Legend, LineController, LineElement, PointElement, CategoryScale, LinearScale} from 'chart.js'\n// import Chart from 'chart.js/auto';\n// ChartJS.register(Title, Tooltip, Legend, LineController, LineElement, PointElement, CategoryScale, LinearScale)\n\n\n\n@Component({\n  components: {\n    LineCh\n  }\n})\nexport default class LineChart extends Vue  {\n  @Prop() chartData: any;\n}\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LineChart.vue?vue&type=template&id=6405e1ba&\"\nimport script from \"./LineChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./LineChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Bar',{attrs:{\"chartData\":_vm.chartData}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Bar } from 'vue-chartjs'\n\n// import Chart from 'chart.js/auto';\n// import { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js'\nimport { Component, Vue, Prop } from 'vue-property-decorator';\n\n// ChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\n// const Chart = require('chart.js/auto');\n\n@Component({\n  components: {\n    Bar,\n  }\n})\nexport default class BarChart extends Vue  {\n  @Prop() chartData: any;\n}\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BarChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BarChart.vue?vue&type=template&id=0e2ee235&\"\nimport script from \"./BarChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./BarChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\n\n// 測試api\nexport async function getSensorData(device: string, startDate: string, endDate: string, page: number): Promise<ElecInfo[]> {\n  // const res = await axios.get(`http://35.185.171.35:8090/api/sensor/?device=${device}`);\n  // startDate: string, endDate: string, page: number\n  \n  // 等所有日期都可以查詢後使用\n  // const res = await axios.get(`http://35.185.171.35:8090/api/sensor/device/?device=${device}&datestart=${startDate}&dateend=${endDate}&page=${page}`);\n  const res = await axios.get(`http://35.185.171.35:8090/api/sensor/data/?device=${device}&datestart=2022-12-01&dateend=2022-12-02&page=${page}`);\n  return res.data;\n}\n\n// 歷史查詢\nexport async function getHistoryData(device: string, startDate: string, endDate: string): Promise<HistoryInfo[]> {\n  const res = await axios.get(`http://35.185.171.35:8090/api/history/data/?device=${device}&datestart=${startDate}&dateend=${endDate}`);\n  return res.data;\n}\n\n\n// 查裝置種類\nexport async function getAllDevice(): Promise<String[]> {\n  const res = await axios.get(`http://35.185.171.35:8090/api/sensor/?device`);\n  return res.data;\n}\n\n// 查電力分析圖表\nexport async function getAnalyzeChart(algo: string, dataset: string, device: string, startDate: string, endDate: string) {\n  // 這邊好像不需要使用blob，http://35.193.209.97:5000/get_chart?algo=RNN&dataset=iawe&device=fridge&startdate=2013-06-30&enddate=2013-08-22 這個就是圖片的網址了\n  \n  // 等所有日期都可以查詢時使用\n  // return `http://34.123.157.50:5000/get_chart?algo=${algo}&dataset=${dataset}&device=${device}&startdate=${startDate}&enddate=${endDate}`;\n\n  // 測試使用指定日期\n  return \"http://34.123.157.50:5000/get_chart?algo=RNN&dataset=iawe&device=fridge&startdate=2013-06-30&enddate=2013-08-22\";\n\n  // const res = await axios.get(`http://35.193.209.97:5000/get_chart?algo=RNN&dataset=iawe&device=fridge&startdate=2013-06-30&enddate=2013-08-22`,{responseType: 'blob'});\n  // console.log('res',res);\n  // const myBlob = new Blob([res.data as any], {type: 'image/jpeg'})\n  // const qrUrl = URL.createObjectURL(myBlob);\n  \n  // return qrUrl;\n}\n\nexport class ElecInfo {\n  id: number | null = null;\n  datetime: string | null = null; // 2022-11-21T22:57:21+08:00,\n  device: string | null = null;\n  vo: number | null = null;\n  cu: number | null  = null;\n  active: number | null = null;\n  reactive: number| null  = null;\n  apparent: number | null = null;\n  pf: number| null  = null;\n  freq: number | null = null;\n}\n\nexport class HistoryInfo {\n  id: number | null = null;\n  date: string | null = null;\n  device: string | null = null;\n  active: number | null = null;\n  reactive: null = null;\n  apparent: null = null;\n}\n\n// 原本的電力分析 api 跟欄位\n// http://35.221.191.175:8088/predict/\n// { dataset: redd, algorithm: gru, appliances: fridge}","\n\nclass OptionObj {\n  id: string | null = null;\n  value: string | null = null;\n}\n\nclass ColumnSettingObj {\n  field = ''; // key\n  label = ''; // 顯示的label\n  width = ''; // 欄位寬度\n  numeric: boolean = false;\n  centered: boolean = true;\n}\n\nimport Navbar from \"@/components/Navbar.vue\" // @ is an alias to /src\nimport { Component, Vue } from 'vue-property-decorator';\nimport LineChart from \"@/components/LineChart.vue\";\nimport BarChart from \"@/components/BarChart.vue\";\nimport { ElecInfo, getHistoryData, getSensorData } from \"@/api/api\";\n\n@Component({\n  components: {\n    Navbar,\n    LineChart,\n    BarChart\n  }\n})\nexport default class History extends Vue  {\n  currentPage: number = 1;\n  totalItems: number = 100;\n\n  validation = {\n    date: false,\n    device: false\n  }\n\n  loading: boolean = false;\n  date: Date[] = [];\n  device: string = \"\"; // 之後用 select 選\n  deviceOptions: OptionObj[] = [\n    {\n      id: 'plug3-3',\n      value: 'plug3-3'\n    },\n    {\n      id: 'plug3-2',\n      value: 'plug3-2'\n    },\n    {\n      id: 'plug3-1',\n      value: 'plug3-1'\n    },\n    {\n      id: 'plug1-3',\n      value: 'plug1-3'\n    },\n    {\n      id: 'plug1-2',\n      value: 'plug1-2'\n    },\n    {\n      id: 'plug1-1',\n      value: 'plug1-1'\n    },\n    {\n      id: 'elec220',\n      value: 'elec220'\n    },\n    {\n      id: 'elec110',\n      value: 'elec110'\n    },\n  ];\n\n\n  historyDataList: ElecInfo[] = [];\n  columns: ColumnSettingObj[] = [\n    {\n      field: 'device',\n      label: 'device',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'active',\n      label: 'active',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'apparent',\n      label: 'apparent',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'cu',\n      label: 'cu',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'datetime',\n      label: 'datetime',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'freq',\n      label: 'freq',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'pf',\n      label: 'pf',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'reactive',\n      label: 'reactive',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n    {\n      field: 'vo',\n      label: 'vo',\n      width: '',\n      numeric: false,\n      centered: true\n    },\n  ]\n\n\n  startDate: string = '';\n  endDate: string = '';\n\n    \n  chartData = {\n    labels: [ ], // 日期\n    datasets: [\n      {\n        label: '每日用電量',\n        backgroundColor: '#f87979',\n        data: [] // 用電量\n      }\n    ]\n  }\n\n  // 驗證必填\n  dataValidation(): boolean {\n    let isPass = true;\n    this.validation.device = false;\n    this.validation.date = false;\n    if (!this.device) {\n      this.validation.device = true;\n      isPass = false;\n    }\n    if (this.date.length === 0) {\n      this.validation.date = true;\n      isPass = false;\n    }\n    return isPass;\n  }\n  \n\n  async queryHistory() {\n    let isPass = this.dataValidation();\n    if (!isPass) return;\n    this.loading = true;\n\n    // 每日用電量長條圖\n    this.startDate = this.date[0].getFullYear().toString() + '-' + (this.date[0].getMonth()+1).toString() + '-' + this.date[0].getDate().toString();\n    this.endDate = this.date[1].getFullYear().toString() + '-' + (this.date[1].getMonth()+1).toString() + '-' + this.date[1].getDate().toString(); \n\n    this.historyDataList= await getSensorData(this.device, this.startDate, this.endDate, 1);\n\n    const hisRes = await getHistoryData(this.device, this.startDate, this.endDate);\n    \n    \n    // todo 這邊先做有指定device的版本，之後再改成沒指定device的。\n    hisRes.forEach(r => {\n      this.chartData.labels.push(r.date as never);\n      this.chartData.datasets[0].data.push(r.active as never);\n    })\n    this.loading = false;\n  }\n\n\n  async changePage(): Promise<void> {\n    this.historyDataList= await getSensorData(this.device, this.startDate, this.endDate, this.currentPage);\n  }\n\n\n\n\n\n};\n\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=988c4770&\"\nimport script from \"./History.vue?vue&type=script&lang=ts&\"\nexport * from \"./History.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=988c4770&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Navbar'),_c('main',{staticClass:\"p-5\"},[_vm._m(0),_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"設備\"}},[_c('b-select',{attrs:{\"placeholder\":\"Select a name\",\"expanded\":\"\"},on:{\"input\":function($event){return _vm.changeTopic($event)}},model:{value:(_vm.device),callback:function ($$v) {_vm.device=$$v},expression:\"device\"}},_vm._l((_vm.topicOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.value}},[_vm._v(\" \"+_vm._s(option.value)+\" \")])}),0)],1),_c('h2',{staticClass:\"h2\"},[_vm._v(_vm._s(_vm.aggregationTopicInfo.topic)+\"監控數值\")]),_c('div',{staticClass:\"is-flex is-flex-wrap-wrap\"},[_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"有效功率(W)\",\"info\":_vm.aggregationTopicInfo.active_power}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"視在功率(kVA)\",\"info\":_vm.aggregationTopicInfo.apparent_power}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"頻率\",\"info\":_vm.aggregationTopicInfo.freq}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"電流(A)\",\"info\":_vm.aggregationTopicInfo.i}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"功率因數\",\"info\":_vm.aggregationTopicInfo.pf}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"無效功率(kvar)\",\"info\":_vm.aggregationTopicInfo.reactive_power}}),_c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":\"電壓\",\"info\":_vm.aggregationTopicInfo.v}}),_vm._l((_vm.elec110PlugInfoArr),function(plugInfo){return _c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":plugInfo.topicName,\"info\":plugInfo.v}})}),_vm._l((_vm.elec220PlugInfoArr),function(plugInfo){return _c('Card',{staticClass:\"is-full-mobile is-one-third-desktop\",attrs:{\"title\":plugInfo.topicName,\"info\":plugInfo.v}})})],2),_c('h2',{staticClass:\"h2 mt-5\"},[_vm._v(_vm._s(_vm.aggregationTopicInfo.topic)+\"圖表\")]),_c('div',{staticClass:\"is-flex is-flex-wrap-wrap\"},[_c('LineChart',{staticClass:\"is-full-mobile is-half-desktop\",attrs:{\"chartData\":_vm.realTimePlugChart}}),_c('LineChart',{staticClass:\"is-full-mobile is-half-desktop\",attrs:{\"chartData\":_vm.realTimeAggregateChart}})],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('h1',{staticClass:\"h1 mb-4\"},[_vm._v(\" 即時監控 \"),_c('div',{staticClass:\"border\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"p-2 column\",class:_vm.cardGridSize},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content card-info\"},[_vm._v(\" \"+_vm._s(_vm.info)+\" \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue, Prop } from 'vue-property-decorator';\n\n@Component({})\nexport default class Card extends Vue  {\n  @Prop({default: ''}) title: string | undefined\n  @Prop({default: ''}) info: string | undefined\n  @Prop({default: 'is-3'}) cardGridSize: string | undefined\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=67032e1c&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=ts&\"\nexport * from \"./Card.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=67032e1c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67032e1c\",\n  null\n  \n)\n\nexport default component.exports","export function convertDateTimeToStr(date: Date): string {\n  const yyyy = date.getFullYear();\n  const MM = (date.getMonth() + 1 < 10 ? '0' : '') + (date.getMonth() + 1);\n  const dd = (date.getDate() < 10 ? '0' : '') + date.getDate();\n  const HH = (date.getHours() < 10 ? '0' : '') + date.getHours();\n  const mm = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\n  const ss = (date.getSeconds() < 10 ? '0' : '') + date.getSeconds();\n  return `${yyyy}-${MM}-${dd} ${HH}:${mm}:${ss}`;\n}","\n\nclass TopicInfoObj { \n  topicName: string = ''; // 訂閱項目名稱（ex. 空氣清淨機）\n  topic: string = ''; // 訂閱項目\n  v: string = ''; // 電壓\n  i: string = ''; // 電流（A）\n  active_power: string = ''; // 有效功率（Ｗ）\n  reactive_power: string = ''; // 無效功率（kvar）\n  apparent_power: string = ''; // 視在功率(kVA)\n  pf: string = ''; // 功率因數\n  freq: string = ''; // 頻率\n} \n\nclass OptionObj {\n  id: string = '';\n  value: string = '';\n}\n\nclass plugCardObj {\n  id: string = '';\n  label: string = '';\n}\n\nclass DataSetObj {\n  label: string = '';\n  data: string[] = []; // y軸\n  fill: boolean = false;\n  borderColor: string = '';\n  tension: 0.1;\n}\n\nimport mqtt, { MqttClient } from \"mqtt\"\nimport Navbar from \"../components/Navbar.vue\"\nimport { Component, Vue } from 'vue-property-decorator';\nimport BarChart from \"@/components/BarChart.vue\";\nimport Card from \"@/components/Card.vue\";\nimport LineChart from \"@/components/LineChart.vue\";\nimport {convertDateTimeToStr} from \"../util/convert\"\n\n\n@Component({\n  components: {\n    Navbar,\n    Card,\n    BarChart,\n    LineChart,\n  }\n})\nexport default class Dashboard extends Vue  {\n  device = '';\n  selectedAggregationTopic: OptionObj = {\n      id: 'elec110',\n      value: 'elec110'\n  };\n  // elec110 的聚合與 plugs\n  elec110Topics: plugCardObj[] = [\n    {\n      id: 'elec110',\n      label: '110聚合'\n    },\n    {\n      id: 'plug1-1',\n      label: 'POIEMA空氣清淨機'\n    },\n    {\n      id: 'plug1-2',\n      label: 'sony筆電'\n    },\n    {\n      id: 'plug1-3',\n      label: '華碩筆電'\n    },\n  ]\n  // elec220 的聚合與 plugs\n  elec220Topics: plugCardObj[] = [\n    {\n      id: 'elec220',\n      label: '220聚合'\n    },\n    {\n      id: 'plug3-1',\n      label: 'acer 螢幕'\n    },\n    {\n      id: 'plug3-2',\n      label: '華碩 wireless router'\n    },\n    {\n      id: 'plug3-3',\n      label: '華碩筆電 Sonic螢幕'\n    },\n  ]\n\n  // 顯示 plug 的 topic 資訊\n  elec110PlugInfoArr: TopicInfoObj[] = [];\n  elec220PlugInfoArr: TopicInfoObj[] = [];\n  topicOptions: OptionObj[] = [\n    {\n      id: 'elec110',\n      value: 'elec110'\n    },\n    {\n      id: 'elec220',\n      value: 'elec220'\n    },\n  ]\n\n  \n  // chartData = {\n  //   labels: [ 'January', 'February', 'March'],\n  //   datasets: [\n  //     {\n  //       label: 'Data One',\n  //       backgroundColor: '#f87979',\n  //       data: [40, 20, 12]\n  //     }\n  //   ]\n  // }\n\n  // 即時用電資訊（有效功率折線圖）\n  realTimeAggregateChart = {\n    labels: [], // x軸\n    datasets: [{\n      label: '有效功率',\n      data: [], // y軸\n      fill: false,\n      borderColor: 'rgb(75, 192, 192)',\n      tension: 0.1\n    }]\n  }\n\n  realTimePlugChart = {\n    labels: [] as string[], // x軸\n    datasets: [] as DataSetObj[]\n  }\n\n\n  // === mqtt ===\n  connection = {\n    protocol: \"ws\",\n    host: \"34.80.0.237\", // 學姊的mqtt轉發程式，是用資料庫ip\n    port: 8080,\n    endpoint: \"/mqtt\",\n    // for more options, please refer to https://github.com/mqttjs/MQTT.js#mqttclientstreambuilder-options\n    clean: true,\n    connectTimeout: 30 * 1000, // ms\n    reconnectPeriod: 4000, // ms\n    // clientId: \"emqx_vue_\" + Math.random().toString(16).substring(2, 8),\n    // auth\n    username: \"awinlab\",\n    password: \"awinlab\",\n  }\n  // subscription = {\n  //   topic: 'elec110',\n  //   qos: 0,\n  // }\n  publish = {\n    topic: \"topic/browser\",\n    // qos: 0,\n    payload: '{ \"msg\": \"Hello, I am browser.\" }',\n  }\n  receiveNews = \"\";\n  // qosList = [0, 1, 2];\n  client: any | MqttClient = {\n    connected: false\n  };\n  subscribeSuccess = false;\n  connecting = false;\n  retryTimes = 0;\n\n \n\n  async created() {\n    this.initData();\n    this.createConnection();\n    this.doSubscribe();\n  }\n\n  initData() {\n    this.client = {\n      connected: false,\n    };\n    this.retryTimes = 0;\n    this.connecting = false;\n    this.subscribeSuccess = false;\n  }\n\n  handleOnReConnect() {\n    this.retryTimes += 1;\n    if (this.retryTimes > 5) {\n      try {\n        this.client.end();\n        this.initData();\n        console.log(\"Connection maxReconnectTimes limit, stop retry\")\n        // this.$message.error(\"Connection maxReconnectTimes limit, stop retry\");\n      } catch (error) {\n        console.log((error as any).toString())\n        // this.$message.error((error as any).toString());\n      }\n    }\n  }\n\n  createConnection() {\n    try {\n      this.connecting = true;\n      const { protocol, host, port, endpoint, ...options } = this.connection;\n      const connectUrl = `${protocol}://${host}:${port}${endpoint}`;\n      this.client = mqtt.connect(connectUrl, options);\n      if (this.client.on) {\n        this.client.on(\"connect\", () => {\n          this.connecting = false;\n          console.log(\"Connection succeeded!\");\n        });\n        this.client.on(\"reconnect\", this.handleOnReConnect);\n        this.client.on(\"error\", (error: string) => {\n          console.log(\"Connection failed\", error);\n        });\n        this.client.on(\"message\", (topic: any, message: any) => {\n          this.receiveNews = this.receiveNews.concat(message);\n          // console.log(`Received message ${message} from topic ${topic}`);\n          // 更新資訊\n          this.updateTopicInfo(message, topic);\n          this.updateGraphInfo(message, topic);\n        });\n      }\n    } catch (error) {\n      this.connecting = false;\n      console.log(\"mqtt.connect error\", error);\n    }\n  }\n\n  // 訂閱主題\n  doSubscribe() {\n    // const { topic, qos } = this.subscription;\n    if (this.selectedAggregationTopic.id === 'elec110') {\n      for (let i=0; i<this.elec110Topics.length; i++) {\n          this.client.subscribe(this.elec110Topics[i].id, (error: any, res: any) => {\n          if (error) {\n            console.log('Subscribe to topics error', error)\n            return\n          }\n          this.subscribeSuccess = true\n          console.log('Subscribe to topics res', res)\n        })\n      }\n    } else { // elec220\n      for (let i=0; i<this.elec220Topics.length; i++) {\n          this.client.subscribe(this.elec220Topics[i].id, (error: any, res: any) => {\n          if (error) {\n            console.log('Subscribe to topics error', error)\n            return\n          }\n          this.subscribeSuccess = true\n          console.log('Subscribe to topics res', res)\n        })\n      }\n    }\n  }\n\n  // 取消訂閱主題\n  doUnSubscribe() {\n    // const { topic, qos } = this.subscription;\n    if (this.selectedAggregationTopic.id === 'elec110') {\n      for (let i=0; i<this.elec110Topics.length; i++) {\n        this.client.unsubscribe(this.elec110Topics[i].id, (error: any) => {\n          if (error) {\n            console.log('Unsubscribe error', error)\n          }\n        })\n      }\n      this.elec110PlugInfoArr = [];\n    } else {\n      for (let i=0; i<this.elec220Topics.length; i++) {\n        this.client.unsubscribe(this.elec220Topics[i].id, (error: any) => {\n          if (error) {\n            console.log('Unsubscribe error', error)\n          }\n        })\n      }\n      this.elec220PlugInfoArr = [];\n    }\n    // this.client.unsubscribe(topic, (error: any) => {\n    //   if (error) {\n    //     console.log('Unsubscribe error', error)\n    //   }\n    // })\n  }\n\n\n  // 斷開連結\n  destroyConnection() {\n    if (this.client.connected) {\n      try {\n        this.client.end(false, () => {\n          this.initData()\n          console.log('Successfully disconnected!')\n        })\n      } catch (error: any) {\n        console.log('Disconnect failed', error.toString())\n      }\n    }\n  }\n\n\n  \n  aggregationTopicInfo = new TopicInfoObj();\n\n  changeTopic(topic: string) {\n    this.doUnSubscribe();\n    let selectedTopic = this.topicOptions.find(o => {\n      return o.id === topic;\n    }); \n\n    this.selectedAggregationTopic = selectedTopic !== undefined ? selectedTopic : this.topicOptions[0];\n    this.realTimeAggregateChart.datasets[0].data = [];\n    this.realTimeAggregateChart.labels = [];\n    this.realTimePlugChart.datasets = [];\n    this.realTimePlugChart.labels = [];\n    // this.subscription.topic = this.selectedTopic.id;\n    this.doSubscribe();\n  }\n\n\n  // 更新卡片數值\n  updateTopicInfo(message: any, topic: any) {\n    const parseMessage = JSON.parse(message.toString());\n    \n    if (topic === 'elec110' || topic === 'elec220') {\n      let updateInfo = new TopicInfoObj();\n      updateInfo.topic = topic;\n      updateInfo.active_power = parseMessage.active_power;\n      updateInfo.apparent_power = parseMessage.apparent_power;\n      updateInfo.freq = parseMessage.freq;\n      updateInfo.i = parseMessage.i;\n      updateInfo.pf = parseMessage.pf;\n      updateInfo.reactive_power = parseMessage.reactive_power;\n      updateInfo.v = parseMessage.v;\n      this.aggregationTopicInfo = updateInfo;\n      return;\n    }\n    if (this.selectedAggregationTopic.id === 'elec110') {\n      // 初始化\n      if (this.elec110PlugInfoArr.length === 0) {\n        this.elec110Topics.forEach(t => {\n          let infoObj = new TopicInfoObj();\n          // 只要顯示 plug 的就好\n          if (t.id !== 'elec110' && t.id !== 'elec220') {\n            infoObj.topicName = t.label;\n            infoObj.topic = t.id;\n            this.elec110PlugInfoArr.push(infoObj)\n          }\n        })\n      }\n      let updateInfo = new TopicInfoObj();\n      updateInfo.topic = topic;\n      updateInfo.v = parseMessage.v;\n      //  在陣列中找到要更新的對象\n      let updateTopicIndex = this.elec110PlugInfoArr.findIndex(plugInfo => {\n        return plugInfo.topic === topic;\n      })\n      updateInfo.topicName = this.elec110PlugInfoArr[updateTopicIndex].topicName;\n      this.elec110PlugInfoArr[updateTopicIndex] = updateInfo;\n      return;\n    }\n\n    if (this.selectedAggregationTopic.id === 'elec220') {\n      // 初始化\n      if (this.elec220PlugInfoArr.length === 0) {\n        this.elec220Topics.forEach(t => {\n          let infoObj = new TopicInfoObj();\n          // 只要顯示 plug 的就好\n          if (t.id !== 'elec110' && t.id !== 'elec220') {\n            infoObj.topicName = t.label;\n            infoObj.topic = t.id;\n            this.elec220PlugInfoArr.push(infoObj)\n          }\n        })\n      }\n      let updateInfo = new TopicInfoObj();\n      updateInfo.topic = topic;\n      updateInfo.v = parseMessage.v;\n      //  在陣列中找到要更新的對象\n      let updateTopicIndex = this.elec220PlugInfoArr.findIndex(plugInfo => {\n        return plugInfo.topic === topic;\n      })\n      updateInfo.topicName = this.elec220PlugInfoArr[updateTopicIndex].topicName;\n      this.elec220PlugInfoArr[updateTopicIndex] = updateInfo;\n      return;\n    }\n  }\n\n\n  \n\n  updateGraphInfo(message: any, topic: any) {\n    const parseMessage = JSON.parse(message.toString());\n\n    // 聚合的資訊\n    if (topic === 'elec110' || topic === 'elec220') {\n      if (this.realTimeAggregateChart.datasets[0].data.length > 12) {\n        this.realTimeAggregateChart.datasets[0].data.shift();\n        this.realTimeAggregateChart.labels.shift();\n      }\n      this.realTimeAggregateChart.datasets[0].data.push(parseMessage.active_power as never);\n      this.realTimeAggregateChart.labels.push(convertDateTimeToStr(new Date()) as never);\n      return;\n    }\n\n    // 其餘設備\n    let plugLabel = '';\n    if (this.selectedAggregationTopic.id === 'elec110') {\n      const temp = this.elec110Topics.find(o => {\n        return o.id === topic;\n      })\n      if (temp !== undefined) {\n        plugLabel = temp.label\n      }\n    } else {\n      const temp = this.elec220Topics.find(o => {\n        return o.id === topic;\n      });\n      if (temp !== undefined) {\n        plugLabel = temp.label\n      }\n    }\n\n    let alreadyExistOnChart = this.realTimePlugChart.datasets.findIndex(o => {\n      return o.label === plugLabel\n    })\n    if (alreadyExistOnChart !== -1) { // 表示已經顯示在圖表，只需要更新數值\n      let plugIndexToBeUpdate = this.realTimePlugChart.datasets.findIndex(d => {\n        return d.label === plugLabel;\n      })\n      console.log('plugIndexToBeUpdate',plugIndexToBeUpdate);\n      if (plugIndexToBeUpdate !== undefined) {\n        this.realTimePlugChart.datasets[plugIndexToBeUpdate].data.push(parseMessage.active_power as never)\n        // this.realTimePlugChart.labels.push(convertDateTimeToStr(new Date()) as never);\n      }\n      if (this.realTimePlugChart.datasets[plugIndexToBeUpdate].data.length > 15) {\n        this.realTimePlugChart.datasets[plugIndexToBeUpdate].data.shift();\n      }\n      if (this.realTimePlugChart.labels.length > 15) {\n        this.realTimePlugChart.labels.shift();\n      }\n    } else {\n      let dataSetObj = new DataSetObj();\n      dataSetObj.label = plugLabel;\n      dataSetObj.borderColor = this.getRandomColor();\n      dataSetObj.data.push(parseMessage.active_power as never);\n      this.realTimePlugChart.datasets.push(dataSetObj);\n    }\n\n    // 因為每個設備更新的時間會一樣，所以只有跟最後一筆時間不同時需要加入新的時間。\n    let nowTime = convertDateTimeToStr(new Date());\n    \n    if (this.realTimePlugChart.labels[this.realTimePlugChart.labels.length-1] !== nowTime){\n      console.log('nowTime', nowTime);\n      this.realTimePlugChart.labels.push(nowTime);\n    }\n  }\n\n  getRandomColor() {\n    let letters = '0123456789ABCDEF';\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n\n\n\n\n\n\n\n\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=fdf5b23a&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Navbar'),_c('main',{staticClass:\"p-5\"},[_vm._m(0),_c('form',{staticClass:\"is-flex is-flex-wrap-wrap is-align-items-end\",attrs:{\"action\":\"\"}},[_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"資料集*\",\"type\":{ 'is-danger': _vm.validation.dataset },\"message\":[\n            { '請選擇資料集': _vm.validation.dataset }\n        ]}},[_c('b-select',{attrs:{\"placeholder\":\"請選擇\",\"expanded\":\"\"},on:{\"input\":function($event){return _vm.getDeviceOptions()}},model:{value:(_vm.dataset),callback:function ($$v) {_vm.dataset=$$v},expression:\"dataset\"}},_vm._l((_vm.datasetOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.value)+\" \")])}),0)],1),_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"演算法*\",\"type\":{ 'is-danger': _vm.validation.algo },\"message\":[\n            { '請選擇演算法': _vm.validation.algo }\n        ]}},[_c('b-select',{attrs:{\"placeholder\":\"請選擇\",\"expanded\":\"\"},model:{value:(_vm.algo),callback:function ($$v) {_vm.algo=$$v},expression:\"algo\"}},_vm._l((_vm.algoOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.value)+\" \")])}),0)],1),_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"設備*\",\"type\":{ 'is-danger': _vm.validation.device },\"message\":[\n            { '請選擇設備': _vm.validation.device }\n        ]}},[_c('b-select',{attrs:{\"placeholder\":\"請選擇\",\"expanded\":\"\"},model:{value:(_vm.device),callback:function ($$v) {_vm.device=$$v},expression:\"device\"}},_vm._l((_vm.deviceOptions),function(option){return _c('option',{key:option.id,domProps:{\"value\":option.id}},[_vm._v(\" \"+_vm._s(option.value)+\" \")])}),0)],1),_c('b-field',{staticClass:\"column is-full-mobile is-half-tablet is-one-quarter-desktop\",attrs:{\"label\":\"日期區間*\",\"type\":{ 'is-danger': _vm.validation.date },\"message\":[\n            { '請選擇日期區間': _vm.validation.date }\n        ]}},[_c('b-datepicker',{attrs:{\"placeholder\":\"Click to select...\",\"range\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('b-button',{staticClass:\"mx-auto\",attrs:{\"type\":\"is-info\",\"loading\":_vm.loading},on:{\"click\":_vm.queryAnalyze}},[_vm._v(\" 查詢 \")]),(_vm.testsrc !== '')?_c('div',[_c('img',{attrs:{\"src\":_vm.testsrc,\"alt\":\"sss\"}})]):_vm._e()],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('h1',{staticClass:\"h1\"},[_vm._v(\" 電力分析 \"),_c('div',{staticClass:\"border\"})])\n}]\n\nexport { render, staticRenderFns }","\nimport Navbar from \"@/components/Navbar.vue\" // @ is an alias to /src\nimport { Component, Vue } from \"vue-property-decorator\"\nimport { getAnalyzeChart } from \"./../api/api\"\n\nclass OptionObj {\n  id: string = '';\n  value: string = '';\n}\n\n@Component({\n  components: {\n    Navbar,\n  }\n})\nexport default class Analyze extends Vue  {\n  validation = {\n    date: false,\n    device: false,\n    dataset: false,\n    algo: false\n  }\n\n  dataset = '';\n  algo = '';\n  device = '';\n  loading: boolean = false;\n\n  deviceOptions: OptionObj[] = []; // 依選擇的 dataset 決定選項\n  datasetOptions: OptionObj[] = [\n    {\n      id: 'iawe',\n      value: 'iawe'\n    },\n    {\n      id: 'redd',\n      value: 'redd'\n    },\n    {\n      id: 'ukdale',\n      value: 'ukdale'\n    }\n  ]\n\n  algoOptions: OptionObj[] = [\n    {\n      id: 'DAE',\n      value: 'DAE'\n    },\n    {\n      id: 'GRU',\n      value: 'GRU'\n    },\n    {\n      id: 'RNN',\n      value: 'RNN'\n    }\n  ]\n\n  // 之後可以考慮開表，用api查\n  getDeviceOptions() {\n    this.device = '';\n    if (this.dataset === 'iawe') {\n      this.deviceOptions = [\n        {\n          id: 'clothes_iron',\n          value: 'clothes_iron'\n        },\n        {\n          id: 'fridge',\n          value: 'fridge'\n        },\n        {\n          id: 'wahser_dryer',\n          value: 'wahser_dryer'\n        },\n      ]\n      return;\n    } \n\n    if (this.dataset === 'redd') {\n      this.deviceOptions = [\n        {\n          id: 'fridge',\n          value: 'fridge'\n        },\n        {\n          id: 'microwave',\n          value: 'microwave'\n        },\n        {\n          id: 'sockets',\n          value: 'sockets'\n        },\n      ]\n      return;\n    } \n\n    if (this.dataset === 'ukdale') {\n      this.deviceOptions = [\n        {\n          id: 'kettle',\n          value: 'kettle'\n        },\n        {\n          id: 'microwave',\n          value: 'microwave'\n        },\n        {\n          id: 'washer_dryer',\n          value: 'washer_dryer'\n        },\n      ]\n      return;\n    }\n  }\n\n  testsrc: string = '';\n  startDate: string = '';\n  endDate: string = '';\n  date: Date[] = [];\n\n  // dateFormatting() {\n  //   if (this.date.length === 0 ) {\n  //     return;\n  //   }\n  //   this.startDate = this.date[0].getFullYear().toString() + '-' + (this.date[0].getMonth()+1).toString() + '-' + this.date[0].getDate().toString();\n  //   this.endDate = this.date[1].getFullYear().toString() + '-' + (this.date[1].getMonth()+1).toString() + '-' + this.date[1].getDate().toString(); \n  // }\n\n\n  // 驗證必填\n  dataValidation(): boolean {\n    let isPass = true;\n    this.validation.device = false;\n    this.validation.date = false;\n    this.validation.algo = false;\n    this.validation.dataset = false;\n\n    if (!this.device) {\n      this.validation.device = true;\n      isPass = false;\n    }\n    if (this.date.length === 0) {\n      this.validation.date = true;\n      isPass = false;\n    }\n    if (!this.algo) {\n      this.validation.algo = true;\n    }\n    if (!this.dataset) {\n      this.validation.dataset = true;\n    }\n    return isPass;\n  }\n  \n\n  async queryAnalyze() {\n    let isPass = this.dataValidation();\n    if (!isPass) return;\n    this.loading = true;\n    // 所有日期都可以查詢的時候使用\n    // this.startDate = this.date[0].getFullYear().toString() + '-' + (this.date[0].getMonth()+1).toString() + '-' + this.date[0].getDate().toString();\n    // this.endDate = this.date[1].getFullYear().toString() + '-' + (this.date[1].getMonth()+1).toString() + '-' + this.date[1].getDate().toString(); \n    this.testsrc = await getAnalyzeChart(this.algo, this.dataset, this.device, this.startDate, this.endDate);\n    this.loading = false;\n  }\n\n\n\n}\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Analyze.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Analyze.vue?vue&type=template&id=51caae4a&\"\nimport script from \"./Analyze.vue?vue&type=script&lang=ts&\"\nexport * from \"./Analyze.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Analyze.vue?vue&type=style&index=0&id=51caae4a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport { component } from 'vue/types/umd'\nimport History from '../views/History.vue'\nimport Dashboard from '../views/Dashboard.vue'\nimport Analyze from '../views/Analyze.vue'\n\n\nVue.use(VueRouter)\n\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Dashboard',\n    component: Dashboard\n  },\n  {\n    path: '/history',\n    name: 'History',\n    component: History\n  },\n  {\n    path: '/analyze',\n    name: 'Analyze',\n    component: Analyze\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/Dashboard.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport Buefy from 'buefy'\nimport 'buefy/dist/buefy.css';\nconst Chart = require('chart.js/auto');\n\nVue.use(Buefy)\nVue.use(Chart)\n\n// import { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n// import 'bootstrap/dist/css/bootstrap.css'\n// import 'bootstrap-vue/dist/bootstrap-vue.css'\n\n// If you want to change Bootstrap's default styles (e.g. the $body-color), \n// you have to use Bootstrap's and BootstrapVue's scss files. (看 vueBootstrap 文檔的 getting started)\n\n// Make BootstrapVue available throughout your project\n// Vue.use(BootstrapVue)\n// Optionally install the BootstrapVue icon components plugin\n// Vue.use(IconsPlugin)\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknilm_fromtend\"] = self[\"webpackChunknilm_fromtend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1673); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","staticRenderFns","name","components","component","_setupProxy","_m","validation","date","model","value","callback","$$v","expression","device","_l","deviceOptions","option","key","id","domProps","_v","_s","loading","on","queryHistory","chartData","historyDataList","columns","totalItems","changePage","currentPage","scopedSlots","_u","fn","path","proxy","Navbar","Vue","Component","LineChart","__decorate","Prop","LineCh","BarChart","Bar","async","getSensorData","startDate","endDate","page","res","axios","data","getHistoryData","getAnalyzeChart","algo","dataset","History","field","label","width","numeric","centered","labels","datasets","backgroundColor","dataValidation","isPass","length","getFullYear","toString","getMonth","getDate","hisRes","forEach","r","push","active","$event","changeTopic","topicOptions","aggregationTopicInfo","topic","active_power","apparent_power","freq","i","pf","reactive_power","v","elec110PlugInfoArr","plugInfo","topicName","elec220PlugInfoArr","realTimePlugChart","realTimeAggregateChart","class","cardGridSize","title","info","Card","default","convertDateTimeToStr","yyyy","MM","dd","HH","getHours","mm","getMinutes","ss","getSeconds","TopicInfoObj","DataSetObj","Dashboard","fill","borderColor","tension","protocol","host","port","endpoint","clean","connectTimeout","reconnectPeriod","username","password","payload","connected","initData","createConnection","doSubscribe","client","retryTimes","connecting","subscribeSuccess","handleOnReConnect","end","console","log","error","options","connection","connectUrl","mqtt","message","receiveNews","concat","updateTopicInfo","updateGraphInfo","selectedAggregationTopic","elec110Topics","subscribe","elec220Topics","doUnSubscribe","unsubscribe","destroyConnection","selectedTopic","find","o","undefined","parseMessage","JSON","parse","updateInfo","t","infoObj","updateTopicIndex","findIndex","shift","Date","plugLabel","temp","alreadyExistOnChart","plugIndexToBeUpdate","d","dataSetObj","getRandomColor","nowTime","letters","color","Math","floor","random","getDeviceOptions","datasetOptions","algoOptions","queryAnalyze","testsrc","_e","Analyze","VueRouter","routes","router","mode","base","process","Chart","require","Buefy","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","a","definition","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}